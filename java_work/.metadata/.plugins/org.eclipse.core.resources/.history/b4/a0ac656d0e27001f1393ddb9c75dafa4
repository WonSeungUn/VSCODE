package kosa.basic;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;
import java.util.stream.IntStream;
import java.util.stream.Stream;

public class StreamPipeLineExam {
	public static void main(String[] args) {
		List<Student> list = Arrays.asList(
				new Student("¿ø½Â¾ð", 30),
				new Student("¿ø½Âºó", 50),
				new Student("¿ø¼þÀÌ", 70),
				new Student("ddd", 80)
				);
		
		Stream<Student> stream = list.stream();
		List<Student> stuList = stream.filter(n -> n.getName().startsWith("¿ø")).collect(Collectors.toList());
		for(Student s : stuList) {
			System.out.println(s.getName());
		}
		IntStream scoreStream = stream.mapToInt(student -> student.getScore());
		double avg = scoreStream.average().getAsDouble();
		double avg2 = list.stream().mapToInt(student -> student.getScore()).average().getAsDouble();
		System.out.println(avg + " || " + avg2);
		System.out.println("---------------------------------------------------------");
		list.stream().forEach(s -> System.out.println(s.getName()));
		System.out.println("---------------------------------------------------------");
		list.stream().map(s->s.getName()).forEach(name ->System.out.println(name));
		System.out.println("---------------------------------------------------------");
		list.stream().map(Student:: getName).forEach(name ->System.out.println(name));
		System.out.println("---------------------------------------------------------");
		list.stream().filter(s->s.getName().contains("½Â")).forEach(s->System.out.println(s.getName()));
		
		List<Student> list2 = new ArrayList<>();
		list2.add(new Student("¿Àµ¿ÀÌ", 50));
		list2.add(new Student("Ä¥µ¿ÀÌ", 70));
		list2.add(new Student("±¸µ¿ÀÌ", 90));
		list2.stream().mapToInt(s -> s.getScore()).forEach(s -> System.out.println(s));
	}
}
